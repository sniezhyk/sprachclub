/* ──────────────────────────────────────────
   Design Tokens (Light + optional Dark Mode)
   ────────────────────────────────────────── */
:root {
  /* Colors */
  --bg: #ffffff;
  --fg: #111111;
  --muted: #6b7280;    /* gray-500 */
  --line: #e5e7eb;     /* gray-200 */
  --accent: #111111;

  /* Surfaces */
  --surface: #ffffff;
  --surface-elev: #ffffff;
  --surface-a90: rgba(255,255,255,0.90);

  /* Radii & Shadows */
  --radius: 14px;
  --radius-sm: 10px;
  --radius-lg: 18px;
  --shadow-1: 0 2px 10px rgba(0,0,0,0.05);
  --shadow-2: 0 6px 24px rgba(0,0,0,0.06);
  --shadow-3: 0 24px 64px rgba(0,0,0,0.10);

  /* Spacing & Type scale */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-7: 32px;
  --space-8: 40px;

  --fs-200: clamp(12px, .85vw, 13px);
  --fs-300: 14px;
  --fs-400: 16px;
  --fs-500: clamp(17px, 1.1vw, 18px);
  --fs-600: clamp(18px, 1.25vw, 20px);
  --fs-700: clamp(22px, 2.5vw, 28px);
  --fs-800: clamp(28px, 4vw, 36px);

  /* Focus ring */
  --ring: 0 0 0 3px rgba(17,17,17,0.08);
  --ring-strong: 0 0 0 3px rgba(17,17,17,0.16);

  color-scheme: light;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0c0c0d;
    --fg: #f7f7f7;
    --muted: #9aa0a6;
    --line: #2a2b2e;
    --accent: #f7f7f7;

    --surface: #0f1012;
    --surface-elev: #121316;
    --surface-a90: rgba(15,16,18,0.85);

    --shadow-1: 0 2px 10px rgba(0,0,0,0.35);
    --shadow-2: 0 6px 24px rgba(0,0,0,0.4);
    --shadow-3: 0 24px 64px rgba(0,0,0,0.5);

    color-scheme: dark;
  }
}

/* ─────────── Base / Reset ─────────── */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font: var(--fs-400)/1.55 system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", sans-serif;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}
a { color: inherit; text-decoration: none; }
a:hover { text-decoration: underline; }
img, svg { max-width: 100%; height: auto; display: block; }

/* Utility */
.visually-hidden { position: absolute !important; width:1px; height:1px; margin:-1px; padding:0; border:0; overflow:hidden; clip:rect(0 0 0 0); clip-path: inset(50%); }
[hidden] { display: none !important; }
.muted { color: var(--muted); }
.container { max-width: 1040px; margin: 0 auto; padding: var(--space-6); }
.section { padding-block: var(--space-7); }

/* ─────────── Header / Navigation ─────────── */
.nav {
  position: sticky; top: 0; z-index: 50;
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px var(--space-6);
  border-bottom: 1px solid var(--line);
  backdrop-filter: saturate(180%) blur(6px);
  background: var(--surface-a90);
}
.brand {
  font-weight: 700; letter-spacing: 0.2px; color: inherit;
  font-size: var(--fs-500);
}
.nav-right, .nav-main { display: flex; gap: var(--space-2); align-items: center; }
.nav a { padding: 8px 10px; border-radius: 8px; }
.nav a:focus-visible { outline: none; box-shadow: var(--ring-strong); }

/* ─────────── Hero ─────────── */
.hero { padding: var(--space-8) 0 var(--space-4); }
.hero h1 { margin: 0 0 var(--space-2); font-size: var(--fs-800); line-height: 1.1; letter-spacing: -0.02em; }
.hero p { margin: 0; color: var(--muted); font-size: var(--fs-500); }

/* ─────────── Forms ─────────── */
.field { display: flex; flex-direction: column; gap: 6px; }
.field label { font-size: var(--fs-300); color: var(--muted); }
.field input,
.field select,
.field textarea {
  border: 1px solid var(--line);
  border-radius: var(--radius-sm);
  padding: 10px 12px;
  background: var(--surface);
  color: inherit;
  min-width: 220px;
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
.field textarea { min-height: 120px; resize: vertical; }
.field input::placeholder,
.field textarea::placeholder { color: color-mix(in oklab, var(--muted) 75%, transparent); }
.field input:focus,
.field select:focus,
.field textarea:focus { outline: none; border-color: var(--fg); box-shadow: var(--ring); }
.field .help { font-size: var(--fs-300); color: var(--muted); }
.field.is-invalid input,
.field.is-invalid select,
.field.is-invalid textarea { border-color: #ef4444; box-shadow: 0 0 0 3px rgba(239,68,68,.15); }

.check { display: inline-flex; align-items: center; gap: var(--space-2); }
.row { display: flex; gap: var(--space-3); align-items: center; flex-wrap: wrap; }
.row.end { justify-content: flex-end; }
.filters { padding: 12px 0 8px; border-bottom: 1px solid var(--line); margin-bottom: var(--space-4); }

/* ─────────── Buttons ─────────── */
.btn {
  appearance: none; cursor: pointer;
  border: 1px solid var(--fg);
  background: var(--fg); color: #fff;
  padding: 10px 14px;
  border-radius: 999px;
  transition: transform .04s ease, box-shadow .2s ease, background .2s ease, color .2s ease, border-color .2s ease;
  display: inline-flex; align-items: center; justify-content: center; gap: 8px;
  font-size: var(--fs-400); line-height: 1;
}
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-2); }
.btn:active { transform: translateY(0); box-shadow: var(--shadow-1); }
.btn:focus-visible { outline: none; box-shadow: var(--ring-strong); }
.btn:disabled { opacity: .5; cursor: not-allowed; box-shadow: none; }

.btn-outline { background: transparent; color: var(--fg); border: 1px solid var(--line); }
.btn-ghost { background: transparent; color: var(--fg); border: 1px solid transparent; }
.btn-link { background: transparent; border: none; padding: 8px 10px; color: var(--fg); }
.btn-accent { background: var(--accent); border-color: var(--accent); color: #fff; }

.btn-sm { padding: 6px 10px; font-size: var(--fs-300); }
.btn-lg { padding: 14px 18px; font-size: var(--fs-500); }
.btn-block { width: 100%; }

/* ─────────── Cards & Grid ─────────── */
.grid {
  list-style: none; margin: 0; padding: 0;
  display: grid; gap: var(--space-3);
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
}
.card {
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: var(--space-4);
  background: var(--surface-elev);
  box-shadow: var(--shadow-2);
  display: flex; flex-direction: column; gap: var(--space-3);
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.card:hover { transform: translateY(-2px); box-shadow: var(--shadow-3); }
.card h3 { margin: 0; font-size: var(--fs-600); letter-spacing: -0.01em; }
.meta { display: flex; gap: 10px; flex-wrap: wrap; color: var(--muted); font-size: var(--fs-300); }
.card .actions { margin-top: auto; display: flex; gap: var(--space-2); }
.tag {
  display: inline-block;
  border: 1px solid var(--line);
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 12px;
  background: var(--surface);
  color: inherit;
}

/* ─────────── Dialogs (native <dialog>) ─────────── */
.dialog {
  border: none; border-radius: var(--radius-lg); padding: 0;
  box-shadow: var(--shadow-3);
  width: min(560px, 92vw); max-height: min(82vh, 900px); overflow: hidden;
  background: var(--surface-elev); color: inherit;
}
.dialog::backdrop { background: rgba(0,0,0,0.28); backdrop-filter: blur(2px); }
.dialog header { padding: 14px var(--space-4); border-bottom: 1px solid var(--line); font-weight: 600; }
.dialog .tabs { display: flex; gap: 4px; border-bottom: 1px solid var(--line); padding: 12px; }
.dialog .tabs button { border: none; background: transparent; padding: 8px 12px; border-radius: 999px; cursor: pointer; }
.dialog [aria-selected="true"] { background: var(--fg); color: #fff; }
.stack { display: flex; flex-direction: column; gap: var(--space-3); padding: var(--space-4); }

/* ─────────── Toast ─────────── */
#toast {
  position: fixed; left: 50%; bottom: 24px; transform: translateX(-50%) translateY(12px);
  padding: 10px 14px; border-radius: 999px;
  background: #111; color: #fff;
  opacity: 0; pointer-events: none;
  box-shadow: var(--shadow-3);
  transition: opacity .2s ease, transform .2s ease;
}
#toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

/* ─────────── Footer ─────────── */
.site-footer {
  border-top: 1px solid var(--line);
  background: var(--surface);
  padding: var(--space-6);
  color: #555;
}
.footer-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(140px, 1fr));
  gap: 16px 32px; align-items: start; margin-bottom: var(--space-4);
}
.footer-col h4 {
  margin: 0 0 8px 0; font-size: var(--fs-300); font-weight: 600; color: var(--fg);
}
.footer-col ul { list-style: none; padding: 0; margin: 0; }
.footer-col li + li { margin-top: 6px; }
.footer-col a { color: #555; text-decoration: none; }
.footer-col a:hover, .footer-col a:focus { color: var(--fg); text-decoration: underline; outline: none; }

.footer-social {
  display: flex; gap: 16px; align-items: center; margin: 8px 0 16px 0;
}
.footer-social a { display: inline-flex; align-items: center; gap: 8px; color: #555; text-decoration: none; }
.footer-social a:hover { color: var(--fg); text-decoration: underline; }

.footer-bottom {
  border-top: 1px dashed var(--line);
  padding-top: 12px; font-size: var(--fs-300); color: #777;
}
.footer-bottom a { color: inherit; text-decoration: none; }
.footer-bottom a:hover { text-decoration: underline; }

/* ─────────── Menu / Dropdown ─────────── */
.menu { position: relative; }
.dropdown {
  position: absolute; top: calc(100% + 8px); left: 0; z-index: 10;
  min-width: 200px; margin: 0; padding: 8px; list-style: none;
  background: var(--surface-elev); color: inherit;
  border: 1px solid var(--line); border-radius: var(--radius);
  box-shadow: var(--shadow-2);
}
.dropdown-item {
  display: block; padding: 8px 10px; border-radius: 8px; color: inherit; text-decoration: none;
}
.dropdown-item:hover, .dropdown-item:focus {
  background: color-mix(in oklab, var(--fg) 4%, transparent);
  outline: none;
}

/* ─────────── Responsive ─────────── */
@media (max-width: 720px) {
  .container { padding: 20px; }
  .nav { padding-inline: 20px; }
}
@media (max-width: 520px) {
  .footer-grid { grid-template-columns: 1fr; }
}

/* ─────────── Motion preferences ─────────── */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; scroll-behavior: auto !important; }
}

/* === Fehlerdarstellung (Formulare) === */
.error-summary {
  border: 1px solid #dc2626;          /* rot */
  background: #fef2f2;                /* zart rot */
  color: #991b1b;
  padding: .75rem 1rem;
  border-radius: .5rem;
  margin-bottom: 1rem;
  list-style: none;
}
.error-summary ul { margin: .25rem 0 0; padding-left: 1.2rem; }
.error-summary:focus { outline: 2px solid #dc2626; outline-offset: 2px; }

.field.invalid input,
.field.invalid select,
.field.invalid textarea {
  border-color: #dc2626 !important;
  box-shadow: 0 0 0 3px rgba(220,38,38,.1);
}
.field .error-msg {
  color: #b91c1c;
  margin-top: .25rem;
  display: block;
}

/* Toast etwas kräftiger */
#toast {
  position: fixed; left: 50%; bottom: 1.25rem; transform: translateX(-50%);
  background: rgba(0,0,0,.85); color: #fff; padding: .6rem .9rem; border-radius: .6rem;
  opacity: 0; transition: opacity .2s ease, transform .2s ease;
  pointer-events: none; z-index: 1200;
}
#toast.show { opacity: 1; transform: translateX(-50%) translateY(-4px); }

/* Buttons */
.btn-danger { background: #dc2626; color: #fff; }
.btn-danger:hover { background: #b91c1c; }

/* Kleinzeug */
.grid-2 { display: grid; gap: 1rem; grid-template-columns: 1fr 1fr; }
.dropdown .sep { border-top: 1px solid var(--border, #e5e7eb); margin: .25rem 0; }
